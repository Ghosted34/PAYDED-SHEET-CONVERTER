<!doctype html>
<html lang="en">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta charset="utf-8" />
    <title>NAVY Payroll</title>

    <!-- CRITICAL: Prevent ALL flickering -->
    <style>
        /* Hide everything until fully initialized */
        html {
            visibility: hidden;
        }

        html.ready {
            visibility: visible;
        }

        /* Smooth reveal after init */
        body {
            opacity: 0;
            transition: opacity 0.15s ease;
        }

        body.initialized {
            opacity: 1;
        }
    </style>

    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="photos/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="photos/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="photos/favicon-16x16.png" />


    <!-- Tailwind CDN + config -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/choices.js/public/assets/scripts/choices.min.js"></script>


    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@2.1.4/css/boxicons.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/choices.js/public/assets/styles/choices.min.css" />
    <link rel="stylesheet" href="styles/dashboard.css" />



</head>

<body class="bg-gradient-to-br from-amber-50 to-blue-100 min-h-dvh antialiased dark overflow-auto">

    <div class="max-w-layout mx-auto min-h-dvh flex flex-col">

        <header
            class="bg-transparent flex items-center justify-center py-2 px-2 border-border bg-background/95 backdrop-blur supports-backdrop-filter:bg-background/60">
            <div class="flex items-center gap-4 bg-opacity-50">

                <div class="text-2xl lg:text-3xl font-black text-navy select-none">
                    NAVY
                </div>


            </div>


        </header>

        <div class="transition-all duration-300">


            <!-- Main content -->
            <main class="flex justify-center md:py-5 py-2">


                <!-- BATCH UPLOAD SECTION -->
                <div  class="p-6">
                    <div class="flex flex-col items-center w-full max-w-md rounded-2xl">
                        <div class="bg-white/70 border border-amber-200 rounded-2xl shadow-lg p-6">
                            <!-- Notes -->
                            <div class="mb-6">
                                <h4 class="font-semibold text-blue-700 mb-2">Please Note:</h4>
                                <ul class="list-disc list-inside text-gray-700 text-sm space-y-1">
                                    <li>Ensure your file is properly formatted before uploading.</li>
                                    <li>If you encounter any issues, please contact support.</li>
                                    <li>
                                        Duplicate Service Number + Payment/Deduction Type will not be
                                        uploaded.
                                    </li>
                                </ul>
                            </div>

                            <!-- Upload Form -->
                            <form id="batchUploadForm" class="space-y-6">
                                <div>
                                    <label for="batchFile" class="block text-sm font-medium text-gray-700 mb-2">Upload
                                        File</label>
                                    <input type="file" id="batchFile" accept=".xlsx,.xls,.csv"
                                        class="mt-1 block w-full border border-blue-300 bg-white rounded-lg px-3 py-2 text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400" />
                                    <p class="text-xs text-gray-500 mt-2">
                                        Only <span class="font-semibold">.xlsx</span>,
                                        <span class="font-semibold">.xls</span> or
                                        <span class="font-semibold">.csv</span> files are allowed.
                                        <button type="button" id="downloadTemplateBtn"
                                            class="text-blue-600 font-medium hover:underline ml-2">
                                            Download Template
                                        </button>
                                    </p>
                                </div>
                                <div class="flex justify-end gap-3">
                                    <button type="button" id="cancelBatchBtn"
                                        class="px-5 py-2 bg-gray-300 hover:bg-gray-400 rounded-lg text-gray-800 font-medium shadow-sm">
                                        Cancel
                                    </button>
                                    <button type="button" id="uploadBatchBtn"
                                        class="px-5 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-white font-medium shadow-md">
                                        Upload
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>

                    <!-- Success Modal -->
                    <div id="successModal"
                        class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
                        <div class="bg-white rounded-xl shadow-lg p-6 max-w-md w-full text-center">
                            <div id="successIcon" class="mb-3 flex items-center justify-center">
                                <svg class="h-8 w-8 text-green-600" fill="none" stroke="currentColor" stroke-width="2"
                                    viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
                                </svg>
                            </div>
                            <h2 id="successTitle" class="text-xl font-bold text-green-600 mb-2">
                                Success
                            </h2>
                            <p id="successMessage" class="text-gray-600 mb-4">
                                Action completed successfully.
                            </p>
                            <div id="uploadSummary" class="hidden text-left bg-gray-50 rounded-lg p-4 mb-4 text-sm">
                                <p class="font-semibold mb-2">Upload Summary:</p>
                                <p>
                                    Total Unique Records:
                                    <span id="total-Records" class="font-medium">0</span>
                                </p>
                                <p>
                                    Successfully Inserted:
                                    <span id="successRecords" class="font-medium text-green-600">0</span>
                                </p>
                                <p>
                                    Duplicate Rows:
                                    <span id="duplicateRows" class="font-medium text-red-600">0</span>
                                </p>
                                <p>
                                    Existing Records:
                                    <span id="existingRecords" class="font-medium text-red-600">0</span>
                                </p>
                                <p>
                                    Inactive Staff:
                                    <span id="inactive" class="font-medium text-red-600">0</span>
                                </p>
                                <div id="failedPayclasses" class="mt-3 hidden">
                                    <p class="font-semibold text-red-600">Failed Pay Classes:</p>
                                    <div id="failedList" class="text-xs text-red-500 mt-1"></div>
                                </div>
                            </div>
                            <button id="closeModalBtn"
                                class="px-5 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium">
                                OK
                            </button>
                        </div>
                    </div>

                    <!-- Error Modal -->
                    <div id="errorModal"
                        class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
                        <div class="bg-white rounded-xl shadow-lg p-6 max-w-2xl w-full">
                            <h2 class="text-xl font-bold text-red-600 mb-4">Upload Errors</h2>
                            <div id="errorContent" class="text-gray-700 text-sm max-h-96 overflow-y-auto"></div>
                            <div class="flex justify-end mt-4">
                                <button id="closeErrorBtn"
                                    class="px-5 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium">
                                    Close
                                </button>
                            </div>
                        </div>
                    </div>
                </div>


            </main>
        </div>
    </div>

</body>
<script src="scripts/index.js"></script>

</html>